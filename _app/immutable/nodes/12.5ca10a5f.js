import{s as x,f as y,a as N,e as M,g as k,h as E,d,c as L,j as m,i as z,D as T,y as O,F as $,o as le,k as V,p as se,l as S,m as A,x as w,n as ne,G as U,Y as re,Z as oe,E as ae,O as ie}from"../chunks/scheduler.e95d3ae2.js";import{S as ee,i as te,b as F,d as H,m as R,a as W,t as Y,e as j}from"../chunks/index.968318fc.js";import{e as G}from"../chunks/each.fec30fbb.js";import{N as ce}from"../chunks/Nav.f73bc347.js";function X(n){let e;return{c(){e=y("div"),this.h()},l(l){e=k(l,"DIV",{class:!0,style:!0}),E(e).forEach(d),this.h()},h(){m(e,"class","preview svelte-1d97hfh"),V(e,"--color",n[0]),V(e,"--size",n[1]+"px"),V(e,"--x",n[4].x+"px"),V(e,"--y",n[4].y+"px")},m(l,o){z(l,e,o)},p(l,o){o&1&&V(e,"--color",l[0]),o&2&&V(e,"--size",l[1]+"px"),o&16&&V(e,"--x",l[4].x+"px"),o&16&&V(e,"--y",l[4].y+"px")},d(l){l&&d(e)}}}function ue(n){let e,l,o,h,a,t=n[4]&&X(n);return{c(){e=y("canvas"),l=N(),t&&t.c(),o=M(),this.h()},l(s){e=k(s,"CANVAS",{class:!0}),E(e).forEach(d),l=L(s),t&&t.l(s),o=M(),this.h()},h(){m(e,"class","svelte-1d97hfh")},m(s,u){z(s,e,u),n[6](e),z(s,l,u),t&&t.m(s,u),z(s,o,u),h||(a=[T(e,"pointerdown",n[7]),T(e,"pointerleave",n[8]),T(e,"pointermove",n[9])],h=!0)},p(s,[u]){s[4]?t?t.p(s,u):(t=X(s),t.c(),t.m(o.parentNode,o)):t&&(t.d(1),t=null)},i:O,o:O,d(s){s&&(d(e),d(l),d(o)),n[6](null),t&&t.d(s),h=!1,$(a)}}}function fe(n,e,l){let{color:o}=e,{size:h}=e,a,t,s;function u(r){const{clientX:_,clientY:c}=r,{left:q,top:C}=a.getBoundingClientRect(),p=_-q,f=c-C;return{x:p,y:f}}le(()=>{l(3,t=a.getContext("2d"));function r(){l(2,a.width=window.innerWidth,a),l(2,a.height=window.innerHeight,a)}return window.addEventListener("resize",r),r(),()=>{window.removeEventListener("resize",r)}});function g(r){se[r?"unshift":"push"](()=>{a=r,l(2,a)})}const D=r=>{const _=u(r);l(3,t.fillStyle=o,t),t.beginPath(),t.arc(_.x,_.y,h/2,0,.2*Math.PI),t.fill(),l(4,s=_)},v=()=>{l(4,s=null)},i=r=>{const _=u(r);r.buttons===1&&(r.preventDefault(),l(3,t.strokeStyle=o,t),l(3,t.lineWidth=h,t),l(3,t.lineCap="round",t),t.beginPath(),s!==null&&t.moveTo(s.x,s.y),t.lineTo(_.x,_.y),t.stroke()),l(4,s=_)};return n.$$set=r=>{"color"in r&&l(0,o=r.color),"size"in r&&l(1,h=r.size)},[o,h,a,t,s,u,g,D,v,i]}class he extends ee{constructor(e){super(),te(this,e,fe,ue,x,{color:0,size:1})}}function _e(n){var h;const e=document.activeElement;function l(){return Array.from(n.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))}function o(a){if(a.key!=="Tab")return;const t=document.activeElement,s=l(),u=s[0],g=s[s.length-1];a.shiftKey&&t==u&&(g.focus(),a.preventDefault()),!a.shiftKey&&t==g&&(u.focus(),a.preventDefault())}return(h=l()[0])==null||h.focus(),n.addEventListener("keydown",o),{destroy(){n.removeEventListener("keydown",o),e==null||e.focus()}}}function Z(n,e,l){const o=n.slice();return o[9]=e[l],o}function J(n){let e,l,o,h,a,t,s,u,g,D,v=G(n[3]),i=[];for(let r=0;r<v.length;r+=1)i[r]=Q(Z(n,v,r));return{c(){e=y("div"),l=y("div"),o=y("div");for(let r=0;r<i.length;r+=1)i[r].c();h=N(),a=y("label"),t=S(`small\r
					`),s=y("input"),u=S(`\r
					large`),this.h()},l(r){e=k(r,"DIV",{class:!0,role:!0,"aria-modal":!0});var _=E(e);l=k(_,"DIV",{class:!0,style:!0});var c=E(l);o=k(c,"DIV",{class:!0});var q=E(o);for(let p=0;p<i.length;p+=1)i[p].l(q);q.forEach(d),h=L(c),a=k(c,"LABEL",{class:!0});var C=E(a);t=A(C,`small\r
					`),s=k(C,"INPUT",{type:!0,min:!0,max:!0,class:!0}),u=A(C,`\r
					large`),C.forEach(d),c.forEach(d),_.forEach(d),this.h()},h(){m(o,"class","colors svelte-1quhyk"),m(s,"type","range"),m(s,"min","1"),m(s,"max","50"),m(s,"class","svelte-1quhyk"),m(a,"class","svelte-1quhyk"),m(l,"class","menu svelte-1quhyk"),V(l,"position","relative"),m(e,"class","modal-background svelte-1quhyk"),m(e,"role","dialog"),m(e,"aria-modal","true")},m(r,_){z(r,e,_),w(e,l),w(l,o);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,null);w(l,h),w(l,a),w(a,t),w(a,s),U(s,n[1]),w(a,u),g||(D=[T(s,"change",n[5]),T(s,"input",n[5]),re(_e.call(null,l)),T(e,"click",oe(n[6])),T(e,"keydown",n[7])],g=!0)},p(r,_){if(_&9){v=G(r[3]);let c;for(c=0;c<v.length;c+=1){const q=Z(r,v,c);i[c]?i[c].p(q,_):(i[c]=Q(q),i[c].c(),i[c].m(o,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=v.length}_&2&&U(s,r[1])},d(r){r&&d(e),ae(i,r),g=!1,$(D)}}}function Q(n){let e,l,o,h;function a(){return n[4](n[9])}return{c(){e=y("button"),this.h()},l(t){e=k(t,"BUTTON",{class:!0,"aria-label":!0,"aria-current":!0,style:!0}),E(e).forEach(d),this.h()},h(){m(e,"class","color svelte-1quhyk"),m(e,"aria-label",n[9]),m(e,"aria-current",l=n[0]===n[9]),V(e,"--color",n[9])},m(t,s){z(t,e,s),o||(h=T(e,"click",a),o=!0)},p(t,s){n=t,s&1&&l!==(l=n[0]===n[9])&&m(e,"aria-current",l)},d(t){t&&d(e),o=!1,h()}}}function de(n){let e,l,o,h,a,t,s,u,g,D,v,i,r=n[2]?"close":"menu",_,c,q,C;l=new ce({}),u=new he({props:{color:n[0],size:n[1]}});let p=n[2]&&J(n);return{c(){e=y("div"),F(l.$$.fragment),o=N(),h=y("hr"),a=N(),t=y("div"),s=y("div"),F(u.$$.fragment),g=N(),p&&p.c(),D=N(),v=y("div"),i=y("button"),_=S(r),this.h()},l(f){e=k(f,"DIV",{class:!0});var b=E(e);H(l.$$.fragment,b),b.forEach(d),o=L(f),h=k(f,"HR",{class:!0}),a=L(f),t=k(f,"DIV",{class:!0,role:!0});var I=E(t);s=k(I,"DIV",{class:!0});var P=E(s);H(u.$$.fragment,P),P.forEach(d),g=L(I),p&&p.l(I),D=L(I),v=k(I,"DIV",{class:!0});var B=E(v);i=k(B,"BUTTON",{class:!0});var K=E(i);_=A(K,r),K.forEach(d),B.forEach(d),I.forEach(d),this.h()},h(){m(e,"class","seperator"),m(h,"class","seprator svelte-1quhyk"),m(s,"class","canvas-container svelte-1quhyk"),m(i,"class","show-menu svelte-1quhyk"),m(v,"class","controls svelte-1quhyk"),m(t,"class","container svelte-1quhyk"),m(t,"role","region")},m(f,b){z(f,e,b),R(l,e,null),z(f,o,b),z(f,h,b),z(f,a,b),z(f,t,b),w(t,s),R(u,s,null),w(t,g),p&&p.m(t,null),w(t,D),w(t,v),w(v,i),w(i,_),c=!0,q||(C=T(i,"click",n[8]),q=!0)},p(f,[b]){const I={};b&1&&(I.color=f[0]),b&2&&(I.size=f[1]),u.$set(I),f[2]?p?p.p(f,b):(p=J(f),p.c(),p.m(t,D)):p&&(p.d(1),p=null),(!c||b&4)&&r!==(r=f[2]?"close":"menu")&&ne(_,r)},i(f){c||(W(l.$$.fragment,f),W(u.$$.fragment,f),c=!0)},o(f){Y(l.$$.fragment,f),Y(u.$$.fragment,f),c=!1},d(f){f&&(d(e),d(o),d(h),d(a),d(t)),j(l),j(u),p&&p.d(),q=!1,C()}}}function me(n,e,l){const o=["red","orange","yellow","green","blue","indigo","violet","white","black"];let h=o[0],a=10,t=!0;const s=i=>{l(0,h=i)};function u(){a=ie(this.value),l(1,a)}return[h,a,t,o,s,u,()=>l(2,t=!1),i=>{i.key==="Escape"&&l(2,t=!1)},()=>l(2,t=!t)]}class ge extends ee{constructor(e){super(),te(this,e,me,de,x,{})}}export{ge as component};
