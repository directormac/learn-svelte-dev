import{s as ee,f as g,a as S,e as O,g as w,h as j,d as _,c as A,j as m,i as D,D as C,y as R,F as te,o as ne,k as I,p as re,l as P,m as B,x as y,n as oe,G as U,Y as ae,Z as ie,E as ce,O as ue}from"../chunks/scheduler.ecb0429e.js";import{S as se,i as le,b as q,d as F,m as H,a as W,t as Y,e as G}from"../chunks/index.3959f891.js";import{e as X}from"../chunks/each.ad07be7b.js";import{N as fe}from"../chunks/Nav.17efb716.js";function Z(n){let e;return{c(){e=g("div"),this.h()},l(t){e=w(t,"DIV",{class:!0,style:!0}),j(e).forEach(_),this.h()},h(){m(e,"class","preview svelte-1d97hfh"),I(e,"--color",n[0]),I(e,"--size",n[1]+"px"),I(e,"--x",n[4].x+"px"),I(e,"--y",n[4].y+"px")},m(t,r){D(t,e,r)},p(t,r){r&1&&I(e,"--color",t[0]),r&2&&I(e,"--size",t[1]+"px"),r&16&&I(e,"--x",t[4].x+"px"),r&16&&I(e,"--y",t[4].y+"px")},d(t){t&&_(e)}}}function he(n){let e,t,r,h,o,s=n[4]&&Z(n);return{c(){e=g("canvas"),t=S(),s&&s.c(),r=O(),this.h()},l(l){e=w(l,"CANVAS",{class:!0}),j(e).forEach(_),t=A(l),s&&s.l(l),r=O(),this.h()},h(){m(e,"class","svelte-1d97hfh")},m(l,d){D(l,e,d),n[7](e),D(l,t,d),s&&s.m(l,d),D(l,r,d),h||(o=[C(e,"pointerdown",n[8]),C(e,"pointerleave",n[9]),C(e,"pointermove",n[10])],h=!0)},p(l,[d]){l[4]?s?s.p(l,d):(s=Z(l),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i:R,o:R,d(l){l&&(_(e),_(t),_(r)),n[7](null),s&&s.d(l),h=!1,te(o)}}}function de(n,e,t){let{color:r}=e,{size:h}=e,o,s,l;function d(){s.clearRect(0,0,o.width,o.height)}function v(i){const{clientX:a,clientY:k}=i,{left:z,top:T}=o.getBoundingClientRect(),p=a-z,f=k-T;return{x:p,y:f}}ne(()=>{t(3,s=o.getContext("2d"));function i(){t(2,o.width=window.innerWidth,o),t(2,o.height=window.innerHeight,o)}return window.addEventListener("resize",i),i(),()=>{window.removeEventListener("resize",i)}});function V(i){re[i?"unshift":"push"](()=>{o=i,t(2,o)})}const b=i=>{const a=v(i);t(3,s.fillStyle=r,s),s.beginPath(),s.arc(a.x,a.y,h/2,0,.2*Math.PI),s.fill(),t(4,l=a)},c=()=>{t(4,l=null)},u=i=>{const a=v(i);i.buttons===1&&(i.preventDefault(),t(3,s.strokeStyle=r,s),t(3,s.lineWidth=h,s),t(3,s.lineCap="round",s),s.beginPath(),l!==null&&s.moveTo(l.x,l.y),s.lineTo(a.x,a.y),s.stroke()),t(4,l=a)};return n.$$set=i=>{"color"in i&&t(0,r=i.color),"size"in i&&t(1,h=i.size)},[r,h,o,s,l,v,d,V,b,c,u]}class _e extends se{constructor(e){super(),le(this,e,de,he,ee,{color:0,size:1,clear:6})}get clear(){return this.$$.ctx[6]}}function me(n){var h;const e=document.activeElement;function t(){return Array.from(n.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))}function r(o){if(o.key!=="Tab")return;const s=document.activeElement,l=t(),d=l[0],v=l[l.length-1];o.shiftKey&&s==d&&(v.focus(),o.preventDefault()),!o.shiftKey&&s==v&&(d.focus(),o.preventDefault())}return(h=t()[0])==null||h.focus(),n.addEventListener("keydown",r),{destroy(){n.removeEventListener("keydown",r),e==null||e.focus()}}}function J(n,e,t){const r=n.slice();return r[9]=e[t],r}function Q(n){let e,t,r,h,o,s,l,d,v,V,b=X(n[3]),c=[];for(let u=0;u<b.length;u+=1)c[u]=$(J(n,b,u));return{c(){e=g("div"),t=g("div"),r=g("div");for(let u=0;u<c.length;u+=1)c[u].c();h=S(),o=g("label"),s=P(`small\r
						`),l=g("input"),d=P(`\r
						large`),this.h()},l(u){e=w(u,"DIV",{class:!0,role:!0,"aria-modal":!0});var i=j(e);t=w(i,"DIV",{class:!0,style:!0});var a=j(t);r=w(a,"DIV",{class:!0});var k=j(r);for(let T=0;T<c.length;T+=1)c[T].l(k);k.forEach(_),h=A(a),o=w(a,"LABEL",{class:!0});var z=j(o);s=B(z,`small\r
						`),l=w(z,"INPUT",{type:!0,min:!0,max:!0,class:!0}),d=B(z,`\r
						large`),z.forEach(_),a.forEach(_),i.forEach(_),this.h()},h(){m(r,"class","colors svelte-1xcswj6"),m(l,"type","range"),m(l,"min","1"),m(l,"max","50"),m(l,"class","svelte-1xcswj6"),m(o,"class","svelte-1xcswj6"),m(t,"class","menu svelte-1xcswj6"),I(t,"position","relative"),m(e,"class","modal-background svelte-1xcswj6"),m(e,"role","dialog"),m(e,"aria-modal","true")},m(u,i){D(u,e,i),y(e,t),y(t,r);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(r,null);y(t,h),y(t,o),y(o,s),y(o,l),U(l,n[1]),y(o,d),v||(V=[C(l,"change",n[5]),C(l,"input",n[5]),ae(me.call(null,t)),C(e,"click",ie(n[6])),C(e,"keydown",n[7])],v=!0)},p(u,i){if(i&9){b=X(u[3]);let a;for(a=0;a<b.length;a+=1){const k=J(u,b,a);c[a]?c[a].p(k,i):(c[a]=$(k),c[a].c(),c[a].m(r,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=b.length}i&2&&U(l,u[1])},d(u){u&&_(e),ce(c,u),v=!1,te(V)}}}function $(n){let e,t,r,h;function o(){return n[4](n[9])}return{c(){e=g("button"),this.h()},l(s){e=w(s,"BUTTON",{class:!0,"aria-label":!0,"aria-current":!0,style:!0}),j(e).forEach(_),this.h()},h(){m(e,"class","color svelte-1xcswj6"),m(e,"aria-label",n[9]),m(e,"aria-current",t=n[0]===n[9]),I(e,"--color",n[9])},m(s,l){D(s,e,l),r||(h=C(e,"click",o),r=!0)},p(s,l){n=s,l&1&&t!==(t=n[0]===n[9])&&m(e,"aria-current",t)},d(s){s&&_(e),r=!1,h()}}}function ve(n){let e,t,r,h,o,s,l,d,v,V,b,c,u,i=n[2]?"close":"menu",a,k,z,T;t=new fe({}),v=new _e({props:{color:n[0],size:n[1]}});let p=n[2]&&Q(n);return{c(){e=g("div"),q(t.$$.fragment),r=S(),h=g("hr"),o=S(),s=g("div"),l=g("div"),d=g("div"),q(v.$$.fragment),V=S(),p&&p.c(),b=S(),c=g("div"),u=g("button"),a=P(i),this.h()},l(f){e=w(f,"DIV",{class:!0});var E=j(e);F(t.$$.fragment,E),E.forEach(_),r=A(f),h=w(f,"HR",{class:!0}),o=A(f),s=w(f,"DIV",{class:!0});var N=j(s);l=w(N,"DIV",{class:!0,role:!0});var L=j(l);d=w(L,"DIV",{class:!0});var x=j(d);F(v.$$.fragment,x),x.forEach(_),V=A(L),p&&p.l(L),b=A(L),c=w(L,"DIV",{class:!0});var K=j(c);u=w(K,"BUTTON",{class:!0});var M=j(u);a=B(M,i),M.forEach(_),K.forEach(_),L.forEach(_),N.forEach(_),this.h()},h(){m(e,"class","seperator"),m(h,"class","seprator svelte-1xcswj6"),m(d,"class","canvas-container svelte-1xcswj6"),m(u,"class","show-menu svelte-1xcswj6"),m(c,"class","controls svelte-1xcswj6"),m(l,"class","container svelte-1xcswj6"),m(l,"role","region"),m(s,"class","page-container svelte-1xcswj6")},m(f,E){D(f,e,E),H(t,e,null),D(f,r,E),D(f,h,E),D(f,o,E),D(f,s,E),y(s,l),y(l,d),H(v,d,null),y(l,V),p&&p.m(l,null),y(l,b),y(l,c),y(c,u),y(u,a),k=!0,z||(T=C(u,"click",n[8]),z=!0)},p(f,[E]){const N={};E&1&&(N.color=f[0]),E&2&&(N.size=f[1]),v.$set(N),f[2]?p?p.p(f,E):(p=Q(f),p.c(),p.m(l,b)):p&&(p.d(1),p=null),(!k||E&4)&&i!==(i=f[2]?"close":"menu")&&oe(a,i)},i(f){k||(W(t.$$.fragment,f),W(v.$$.fragment,f),k=!0)},o(f){Y(t.$$.fragment,f),Y(v.$$.fragment,f),k=!1},d(f){f&&(_(e),_(r),_(h),_(o),_(s)),G(t),G(v),p&&p.d(),z=!1,T()}}}function pe(n,e,t){const r=["red","orange","yellow","green","blue","indigo","violet","white","black"];let h=r[0],o=10,s=!0;const l=c=>{t(0,h=c)};function d(){o=ue(this.value),t(1,o)}return[h,o,s,r,l,d,()=>t(2,s=!1),c=>{c.key==="Escape"&&t(2,s=!1)},()=>t(2,s=!s)]}class ke extends se{constructor(e){super(),le(this,e,pe,ve,ee,{})}}export{ke as component};
